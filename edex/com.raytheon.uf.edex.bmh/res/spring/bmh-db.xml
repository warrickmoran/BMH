<beans xmlns="http://www.springframework.org/schema/beans"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-3.1.xsd">
    <bean id="bmhDbPluginProperties" class="com.raytheon.uf.edex.database.DatabasePluginProperties">
        <property name="pluginFQN" value="com.raytheon.uf.common.bmh" />
        <property name="database" value="${bmh.database}" />
    </bean>

    <bean id="bmhDbRegistered" factory-bean="dbPluginRegistry" factory-method="register">
        <constructor-arg value="com.raytheon.uf.common.bmh" />
        <constructor-arg ref="bmhDbPluginProperties" />
    </bean>

    <bean id="bmhDbSessionConfig"
        class="com.raytheon.uf.edex.database.DatabaseSessionConfiguration">
        <property name="classFinder" ref="dbClassFinder" />
        <property name="includes">
            <list>
                <value>com.raytheon.uf.common.bmh.datamodel.dac</value>
                <value>com.raytheon.uf.common.bmh.datamodel.language</value>
                <value>com.raytheon.uf.common.bmh.datamodel.msg</value>
                <value>com.raytheon.uf.common.bmh.datamodel.playlist</value>
                <value>com.raytheon.uf.common.bmh.datamodel.transmitter</value>
            </list>
        </property>
    </bean>

    <bean id="bmhSessionFactory"
        class="com.raytheon.uf.edex.database.DatabaseSessionFactoryBean">
        <property name="configLocation">
            <value>file:///${edex.home}/conf/db/hibernateConfig/bmh/hibernate.cfg.xml
            </value>
        </property>
        <property name="databaseSessionConfiguration" ref="bmhDbSessionConfig" />
    </bean>

    <bean id="bmhTxManager"
        class="org.springframework.orm.hibernate3.HibernateTransactionManager">
        <property name="sessionFactory" ref="bmhSessionFactory" />
    </bean>

    <bean id="bmhTxTemplate"
        class="org.springframework.transaction.support.TransactionTemplate"
        depends-on="util">
        <property name="transactionManager" ref="bmhTxManager" />
    </bean>

    <bean id="proxyBMHSaveOrUpdateListener" factory-method="getInstance"
        class="com.raytheon.uf.edex.bmh.dao.ProxyBMHSaveOrUpdateListener" />

    <bean id="broadcastMsgListener" class="com.raytheon.uf.edex.bmh.dao.BroadcastMsgListener" />

    <bean factory-bean="proxyBMHSaveOrUpdateListener" factory-method="registerListener">
        <constructor-arg ref="broadcastMsgListener" />
    </bean>

  <bean id="inputMessageDao" class="com.raytheon.uf.edex.bmh.dao.InputMessageDao"
    depends-on="bmhTxTemplate" />

  <bean id="validatedMessageDao" class="com.raytheon.uf.edex.bmh.dao.ValidatedMessageDao"
    depends-on="bmhTxTemplate" />

  <bean id="broadcastMsgDao" class="com.raytheon.uf.edex.bmh.dao.BroadcastMsgDao"
    depends-on="bmhTxTemplate" />

  <bean id="ttsVoiceDao" class="com.raytheon.uf.edex.bmh.dao.TtsVoiceDao"
    depends-on="bmhTxTemplate" />

  <bean id="programDao" class="com.raytheon.uf.edex.bmh.dao.ProgramDao"
    depends-on="bmhTxTemplate" />

  <bean id="playlistDao" class="com.raytheon.uf.edex.bmh.dao.PlaylistDao"
    depends-on="bmhTxTemplate" />

  <bean id="zoneDao" class="com.raytheon.uf.edex.bmh.dao.ZoneDao"
    depends-on="bmhTxTemplate" />

  <bean id="transmitterGroupDao" class="com.raytheon.uf.edex.bmh.dao.TransmitterGroupDao"
    depends-on="bmhTxTemplate" />

  <bean id="dacDao" class="com.raytheon.uf.edex.bmh.dao.DacDao"
    depends-on="bmhTxTemplate" />

</beans>